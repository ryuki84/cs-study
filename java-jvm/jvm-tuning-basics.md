# JVM Tuning Basics (JVM 튜닝 기본)

## 1. 개념 정리
JVM 튜닝은
Java 애플리케이션의 성능과 안정성을 확보하기 위해
JVM 메모리 설정과 GC 동작을 조정하는 작업이다.

JVM 튜닝의 목적은 다음 중 하나 또는 복수다.

- 응답 지연(Latency) 최소화
- 처리량(Throughput) 극대화
- 메모리 사용 안정화
- Full GC 빈도 감소

즉,
JVM 튜닝은 “빠르게”가 아니라
“안정적으로 예측 가능하게” 만드는 작업이다.

---

## 2. 왜 중요한가
백엔드 서버는 장시간 실행되며,
트래픽 변화에 따라 메모리 사용 패턴이 달라진다.

JVM 튜닝이 없으면:
- GC Pause로 인한 응답 지연
- 갑작스러운 Full GC 발생
- OutOfMemoryError
- 장애 재현 및 원인 분석 어려움

특히 금융·트래픽 민감 서비스에서는
JVM 튜닝 여부가 서비스 신뢰성과 직결된다.

---

## 3. 백엔드 실무 관점
실무에서 JVM 튜닝의 기본 접근 순서는 다음과 같다.

### 1) Heap 크기 설정
- Xms: 초기 Heap 크기
- Xmx: 최대 Heap 크기

일반적으로:
- Xms와 Xmx를 동일하게 설정
- Heap 크기 변경으로 인한 GC 변동 최소화

### 2) GC 알고리즘 선택
- 기본: G1 GC
- 초저지연 필요 시: ZGC 고려

### 3) GC 로그 활성화
- GC 로그는 튜닝의 출발점
- 로그 없이 튜닝은 감각에 의존

### 4) Pause Time 기준 설정
- 응답 지연 허용 범위 정의
- G1 GC의 목표 Pause Time 활용

실무 포인트는:
- 옵션을 많이 주는 것이 아니라
- 최소 옵션으로 명확한 효과를 얻는 것

이다.

---

## 4. 트레이드오프 / 주의사항
- Heap을 크게 잡으면 Full GC 시간 증가
- GC 옵션 과다 설정은 오히려 불안정
- JVM 튜닝은 OS, CPU, 메모리 환경에 따라 달라짐
- 테스트 환경과 운영 환경 차이 주의

즉,
> JVM 튜닝은 정답이 있는 설정이 아니라,
> 로그와 지표 기반의 반복적인 조정 과정이다.

라는 트레이드오프가 존재한다.

---

## 5. 예상 면접 질문 & 답변 연습

### Q1. JVM 튜닝은 언제 필요하다고 판단하나요?
A.
GC Pause로 인한 응답 지연이 발생하거나,
메모리 사용이 불안정해
서비스 안정성에 영향을 줄 때 필요하다고 판단합니다.

---

### Q2. Xms와 Xmx를 동일하게 설정하는 이유는 무엇인가요?
A.
Heap 크기 확장/축소로 인한
불필요한 GC 발생을 방지하고,
메모리 사용을 안정화하기 위함입니다.

---

### Q3. JVM 튜닝 시 가장 중요한 기준은 무엇인가요?
A.
GC 로그와 응답 지연 지표를 기준으로,
실제 서비스 특성에 맞게 조정하는 것이 가장 중요합니다.

---

## 6. 한 문장 요약 (면접용)
JVM 튜닝은
GC 로그와 응답 지연 지표를 기반으로
메모리와 GC 동작을 안정화하는 과정이다.
