# 프로세스(Process) vs 스레드(Thread)

## 1. 개념 정리
프로세스(Process)는 실행 중인 프로그램의 인스턴스로,  
운영체제로부터 **독립적인 메모리 공간**(**Code, Data, Heap, Stack**)을 할당받는다.

스레드(Thread)는 프로세스 내부의 실행 흐름 단위로,  
같은 프로세스에 속한 스레드들은 **Heap과 Data 영역을 공유**하고  
각자 Stack 영역만을 개별적으로 가진다.

즉,  
- 프로세스는 “자원 단위”  
- 스레드는 “실행 단위”라고 볼 수 있다.

---

## 2. 왜 중요한가
백엔드 서버는 동시에 여러 요청을 처리해야 하므로  
**멀티스레드 환경**에서 동작하는 것이 일반적이다.

이때 프로세스와 스레드의 차이를 명확히 이해하지 못하면,
- 공유 자원으로 인한 데이터 정합성 문제
- 예기치 않은 장애
- 성능 저하

와 같은 문제가 발생할 수 있다.

특히 금융 시스템처럼 **정합성과 안정성이 중요한 환경**에서는  
이 개념이 단순 이론이 아니라 **장애 예방의 기본 지식**이 된다.

---

## 3. 백엔드 실무 관점
Spring Boot 기반의 WAS(Tomcat 등)는 보통 **스레드 풀**(**Thread Pool**)을 사용해  
HTTP 요청 하나당 스레드 하나를 할당해 처리한다.

이 과정에서 주의할 점은 다음과 같다.

- 싱글톤(Spring Bean)은 **여러 스레드가 동시에 접근**할 수 있다
- 인스턴스 변수에 상태값을 두면 **레이스 컨디션**이 발생할 수 있다
- 잘못 설계된 공유 객체는 장애의 원인이 된다

그래서 실무에서는:
- 상태를 가지지 않는(stateless) 설계
- 불변 객체(Immutable Object) 사용
- 필요 시 동기화 또는 ThreadLocal 사용

같은 방식으로 스레드 안정성을 확보한다.

---

## 4. 트레이드오프 / 주의사항
- 스레드는 프로세스보다 생성/전환 비용이 낮아 성능상 이점이 있다
- 하지만 메모리를 공유하기 때문에 동기화 비용이 발생한다
- 동기화를 과도하게 사용하면 오히려 성능이 저하될 수 있다

즉,
> **성능을 위해 스레드를 쓰지만,  
안정성을 위해 설계가 반드시 필요하다**

라는 트레이드오프가 존재한다.

---

## 5. 예상 면접 질문 & 답변 연습

### Q1. 프로세스와 스레드의 가장 큰 차이는 무엇인가요?
A.  
프로세스는 독립된 메모리 공간을 가지는 실행 단위이고,  
스레드는 하나의 프로세스 안에서 메모리를 공유하는 실행 흐름 단위입니다.  
스레드는 비용이 적지만 공유 자원으로 인한 동시성 문제가 발생할 수 있습니다.

---

### Q2. Spring 서버에서 스레드 안정성이 중요한 이유는 무엇인가요?
A.  
Spring 서버는 멀티스레드 환경에서 동작하며,  
싱글톤 빈에 여러 스레드가 동시에 접근할 수 있기 때문에  
공유 상태를 잘못 관리하면 데이터 정합성 문제나 장애가 발생할 수 있습니다.

---

### Q3. 멀티스레드 환경에서 안전하게 코드를 작성하는 방법은?
A.  
불변 객체를 사용하고, 상태를 최소화하며,  
필요한 경우에만 동기화를 적용하거나 ThreadLocal을 활용합니다.  
또한 가능한 한 stateless 구조로 설계하는 것이 중요합니다.

---

## 6. 한 문장 요약 (면접용)
프로세스는 자원 단위, 스레드는 실행 단위이며,  
백엔드 서버에서는 멀티스레드 환경에서의 **공유 자원 관리와 설계**가 핵심입니다.

