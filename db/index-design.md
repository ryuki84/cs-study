# Index Design (인덱스 설계 원칙)

## 1. 개념 정리
인덱스 설계는
조회 패턴에 맞게 컬럼과 순서를 결정하는 작업이다.

특히 복합 인덱스(Composite Index)는
여러 컬럼을 하나의 인덱스로 묶어
조회 성능을 최적화하는 방식이다.

복합 인덱스에서는
컬럼 순서가 성능에 결정적인 영향을 미친다.

---

## 2. 왜 중요한가
잘못된 인덱스 설계는
인덱스가 있음에도 불구하고 풀 스캔을 유발한다.

복합 인덱스를 이해하지 못하면:
- 인덱스를 만들어도 사용되지 않음
- 조건 일부만 적용됨
- 성능 개선 효과 미미

와 같은 문제가 발생한다.

---

## 3. 백엔드 실무 관점
복합 인덱스 설계의 기본 원칙은 다음과 같다.

- WHERE 조건에 자주 사용되는 컬럼 우선
- 카디널리티(중복도)가 낮은 컬럼을 앞에 배치
- = 조건 → 범위 조건 순서 고려

예를 들어:
- WHERE status = ? AND created_at >= ?
  → (status, created_at) 순서가 적절

또한 ORDER BY, GROUP BY 조건도
인덱스 설계 시 함께 고려해야 한다.

---

## 4. 트레이드오프 / 주의사항
- 인덱스가 많아질수록 쓰기 성능 저하
- 사용되지 않는 인덱스는 관리 비용만 증가
- 특정 쿼리 최적화가 전체 성능에 영향을 줄 수 있음

즉,
> 인덱스는 쿼리 기준으로 설계하고
> 최소한으로 유지해야 한다.

---

## 5. 예상 면접 질문 & 답변 연습

### Q1. 복합 인덱스에서 컬럼 순서가 중요한 이유는?
A.
인덱스는 앞쪽 컬럼부터 탐색하기 때문에,
조건 순서에 따라 인덱스를 타지 못할 수 있습니다.

---

### Q2. 인덱스 설계 시 가장 중요한 기준은?
A.
실제 조회 쿼리의 WHERE, JOIN, ORDER BY 패턴입니다.

---

## 6. 한 문장 요약 (면접용)
인덱스 설계는
데이터 구조가 아니라
조회 패턴을 기준으로 결정해야 한다.
