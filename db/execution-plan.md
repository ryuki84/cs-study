# Execution Plan (SQL 실행 계획)

## 1. 개념 정리
실행 계획(Execution Plan)은
데이터베이스가 SQL 쿼리를 어떻게 실행할지 결정한 내부 계획이다.

DB는 SQL을 그대로 수행하지 않고,
여러 실행 방법 중 비용(Cost)이 가장 낮다고 판단되는 경로를 선택한다.
이 과정에서 테이블 접근 방식, 인덱스 사용 여부, 조인 순서 등이 결정된다.

일반적으로 EXPLAIN 명령어를 통해 실행 계획을 확인한다.

---

## 2. 왜 중요한가
쿼리가 느린 이유는
SQL 문법이 아니라 실행 계획에 있는 경우가 대부분이다.

실행 계획을 확인하지 않으면:
- 인덱스를 타지 않는 이유를 모름
- 풀 스캔 발생 원인 파악 불가
- 조인 성능 문제 해결 불가

즉, 실행 계획은
쿼리 성능 문제를 분석하는 출발점이다.

---

## 3. 백엔드 실무 관점
실무에서 실행 계획을 볼 때 주로 확인하는 항목은 다음과 같다.

- type: 테이블 접근 방식 (ALL, index, range, ref 등)
- key: 실제 사용된 인덱스
- rows: 예상 조회 행 수
- Extra: Using where, Using filesort, Using temporary 등

일반적으로:
- ALL → 테이블 풀 스캔
- range / ref → 인덱스 사용

을 의미하며,
rows 값이 과도하게 크면 성능 문제가 될 가능성이 높다.

---

## 4. 트레이드오프 / 주의사항
- 실행 계획은 예상치이므로 실제 실행과 다를 수 있다
- 데이터 분포 변화에 따라 계획이 달라질 수 있다
- 무조건 cost가 낮다고 항상 최선은 아니다

즉,
> 실행 계획은 절대적인 정답이 아니라
> 판단을 돕는 지표다.

---

## 5. 예상 면접 질문 & 답변 연습

### Q1. 실행 계획이란 무엇인가요?
A.
DB가 SQL을 어떤 방식으로 실행할지 결정한 내부 계획으로,
인덱스 사용 여부와 테이블 접근 방식을 확인할 수 있습니다.

---

### Q2. 실행 계획에서 가장 먼저 보는 항목은?
A.
테이블 접근 방식(type)과 사용된 인덱스(key)를 가장 먼저 확인합니다.

---

## 6. 한 문장 요약 (면접용)
실행 계획은
쿼리 성능 문제를 분석하기 위한
가장 기본적이고 중요한 도구다.
