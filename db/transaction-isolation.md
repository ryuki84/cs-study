# Transaction Isolation Level (트랜잭션 격리 수준)

## 1. 개념 정리
트랜잭션 격리 수준(Isolation Level)은
동시에 실행되는 트랜잭션들이
서로의 변경 내용을 얼마나 볼 수 있도록 허용할지 결정하는 기준이다.

격리 수준은 낮을수록 동시성은 높아지고,
높을수록 데이터 정합성은 강화되지만 성능 비용이 증가한다.

ANSI SQL 표준에서는 다음 네 가지 격리 수준을 정의한다.

- Read Uncommitted
- Read Committed
- Repeatable Read
- Serializable

즉,
격리 수준은
동시성과 정합성 사이의 균형을 조절하는 설정이다.

---

## 2. 왜 중요한가
백엔드 서버에서는
여러 사용자의 요청이 동시에 데이터에 접근하고 수정한다.

격리 수준을 이해하지 못하면:
- 더티 리드(Dirty Read)
- 반복 불가능한 조회(Non-repeatable Read)
- 팬텀 리드(Phantom Read)

와 같은 현상을 정확히 설명하거나 제어할 수 없다.

특히 금융, 정산, 주문 시스템에서는
잘못된 격리 수준 설정이
데이터 불일치나 금전적 오류로 이어질 수 있다.

---

## 3. 백엔드 실무 관점
각 격리 수준의 특징은 다음과 같다.

- Read Uncommitted
  - 커밋되지 않은 데이터를 읽을 수 있음
  - 정합성 문제로 실무에서는 거의 사용하지 않음

- Read Committed
  - 커밋된 데이터만 읽음
  - 더티 리드는 방지
  - 반복 불가능한 조회 발생 가능
  - 많은 DB의 기본 격리 수준

- Repeatable Read
  - 트랜잭션 동안 동일한 데이터를 반복 조회해도 값이 변하지 않음
  - 팬텀 리드 발생 가능(DB 구현에 따라 다름)
  - MySQL(InnoDB)의 기본 격리 수준

- Serializable
  - 가장 높은 격리 수준
  - 트랜잭션을 순차 실행한 것처럼 동작
  - 성능 비용이 매우 큼

실무에서는
Read Committed 또는 Repeatable Read를
시스템 특성에 맞게 선택한다.

---

## 4. 트레이드오프 / 주의사항
- 격리 수준이 높을수록 락 충돌과 대기 시간이 증가한다.
- 동시 처리량이 감소해 전체 성능이 저하될 수 있다.
- 너무 낮으면 데이터 정합성 문제가 발생한다.

즉,
> 격리 수준은 높을수록 좋은 것이 아니라,
> 비즈니스 요구사항에 맞게 선택해야 한다.

라는 트레이드오프가 존재한다.

---

## 5. 예상 면접 질문 & 답변 연습

### Q1. 트랜잭션 격리 수준이란 무엇인가요?
A.
동시에 실행되는 트랜잭션들이
서로의 변경 내용을 어느 정도까지 허용할지 결정하는 기준입니다.

---

### Q2. Read Committed와 Repeatable Read의 차이는 무엇인가요?
A.
Read Committed는 커밋된 데이터만 읽지만,
같은 트랜잭션 안에서 조회 결과가 달라질 수 있고,
Repeatable Read는 트랜잭션 동안 동일한 조회 결과를 보장합니다.

---

### Q3. Serializable을 잘 사용하지 않는 이유는 무엇인가요?
A.
정합성은 가장 높지만,
락 충돌과 대기 시간이 크게 증가해
성능 비용이 매우 크기 때문입니다.

---

## 6. 한 문장 요약 (면접용)
트랜잭션 격리 수준은
동시성과 데이터 정합성 사이의 균형을 조절하는 설정이며,
실무에서는 요구사항에 맞는 수준 선택이 핵심이다.
