# Network Latency (네트워크 지연)

## 1. 개념 정리
네트워크 지연(Network Latency)은
클라이언트와 서버, 또는 서버와 서버 간 통신에서
요청을 보내고 응답을 받기까지 걸리는 시간이다.

지연은 단일 요소가 아니라,
다음과 같은 여러 요소의 합으로 발생한다.

- 물리적 거리
- 네트워크 경로 수
- 패킷 처리 시간
- 연결 설정 비용
- 상대 시스템의 처리 시간

일반적으로 RTT(Round Trip Time)로 측정되며,
요청 → 응답 왕복 시간의 개념으로 이해할 수 있다.

---

## 2. 왜 중요한가
백엔드 서버의 성능 문제는
CPU나 메모리보다 네트워크 지연에서 시작되는 경우가 많다.

네트워크 지연을 고려하지 않으면:
- 응답 시간이 느려지고
- 스레드가 대기 상태로 묶이며
- 타임아웃이 발생하고
- 장애가 연쇄적으로 확산된다.

특히 외부 API 호출이 포함된 서비스에서는
네트워크 지연이 곧 서비스 지연으로 이어진다.

---

## 3. 백엔드 실무 관점
백엔드 서버에서 네트워크 지연이 문제가 되는 대표적인 상황은 다음과 같다.

- 외부 API 호출
- 내부 마이크로서비스 간 통신
- DB 원격 접근
- 인증 서버, 결제 서버 연계

이러한 호출이 동기 방식(Blocking)으로 처리되면,
네트워크 지연 동안 WAS 스레드는 아무 작업도 하지 못한 채 대기한다.

실무에서는 이를 완화하기 위해:
- 적절한 Timeout 설정
- Retry 정책 분리
- Circuit Breaker 적용
- 비동기 처리 또는 병렬 호출
- 캐시 활용

과 같은 전략을 사용한다.

---

## 4. 트레이드오프 / 주의사항
- Timeout을 너무 짧게 잡으면 정상 요청도 실패할 수 있다.
- Retry를 무분별하게 사용하면 트래픽 폭증을 유발한다.
- 비동기 처리는 성능을 개선하지만 구조 복잡도가 증가한다.

즉,
> 네트워크 지연은 제거 대상이 아니라,
> 제어와 격리의 대상이다.

라는 관점이 중요하다.

---

## 5. 예상 면접 질문 & 답변 연습

### Q1. 네트워크 지연이 서버 성능에 어떤 영향을 주나요?
A.
네트워크 지연 동안 스레드가 대기 상태로 묶이게 되어
동시 처리량이 감소하고,
응답 지연과 타임아웃이 발생할 수 있습니다.

---

### Q2. 외부 API 호출이 위험한 이유는 무엇인가요?
A.
외부 시스템의 지연이나 장애가
우리 서비스의 응답 지연과 장애로 직접 전파될 수 있기 때문입니다.

---

### Q3. 네트워크 지연을 줄이기 위한 방법에는 무엇이 있나요?
A.
Timeout과 Retry 정책을 명확히 분리하고,
필요한 경우 비동기 처리나 캐시를 적용해
지연 영향을 최소화합니다.

---

## 6. 한 문장 요약 (면접용)
네트워크 지연은 피할 수 없는 특성이며,
백엔드 서버에서는 이를 최소화하기보다
영향을 제어하고 격리하는 설계가 핵심이다.
